FROM python:3.13

WORKDIR /app

ADD src/FlaskClass.py .
ADD src/NocoClass.py .
ADD src/TwilioClass.py .
ADD src/wsgi.py .
ADD src/config.py .

RUN pip install flask twilio rich requests uwsgi pydantic typing pyyaml

EXPOSE 80
CMD ["uwsgi", "--socket", "0.0.0.0:80", "--protocol=http", "-w", "wsgi:app"]